<p id="notice"><%= notice %></p>
<h1>Available Products</h1>
<br><br>
<h4 class="apart"><%= link_to 'New Product', new_product_path %></h4>

<!--
<table>
  <thead>
    <tr>
      <th>Title</th>
      <th>Description</th>
      <th>Image url</th>
      <th>Price</th>
      <th>Category</th>
      <th>Subcategory</th>
      <th colspan="3">Action</th>
    </tr>
    <tr>
    </tr>
  </thead>

  <tbody>
    <% @products.each do |product| %>
      <tr>
        <td><%= product.title %></td>
        <td><%= product.description %></td>
        <td><%= product.image_url %></td>
        <td><%= product.price %></td>
        <td><%= product.category %></td>
        <td><%= product.subcategory %></td>
        <td><%= link_to 'Show', product %></td>
        <td><%= link_to 'Edit', edit_product_path(product) %></td>
        <td><%= link_to 'Destroy', product, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        <td><a href="/cart/<%= product.id %>"> Add to Cart</a></td>
      </tr>
    <% end %>
  </tbody>
</table>
 -->

<!-- Now make the tiles! -->
<!-- Use the <i> to make the icon and number -->
<!-- Move the <span>s in CSS so they appear in the bottom left corner -->
<!-- Source of tiles code: https://www.codecademy.com/MrMKenyon/codebits/79Stl2/edit  -->
<% @products.each do |product| %>
  <div class="tile">
    <div><%= image_tag product.image_url, class: "image_size" %></div>
    <h3 class="text_bckg"><%= product.title %></h3>
    <p class="text_bckg"><%= product.description %></p>
    <p class="text_bckg"><b>Unit Price: </b><%= product.price %></p>
    <p class="text_bckg"><b>Category: </b><%= product.category %></p>
    <p class="text_bckg"><b>Subcategory: </b><%= product.subcategory %></p>
    <br>
    <b><%= link_to 'Show', product %></b>
    <b><%= link_to 'Edit', edit_product_path(product) %></b>
    <b><%= link_to 'Destroy', product, method: :delete, data: { confirm: 'Are you sure?' } %></b>
    <p class="tile-left-span"><b>Product ID: </b><%= product.id %></p>
    <p class="tile-right-span"><a href="/cart/<%= product.id %>" class="button">Add to Cart</a>
  </div>
<% end %>

<!--
<%# generates HTML code for 10 background colors given R, G, B values. %>
<% def gen_html %>
  <% ('A'..'J').each do |c| %>
    <%= r, g, b = yield %>
    <%= printf "<span style=\"background-color:#%02x%02x%02x; padding:5px; -moz-border-radius:3px; -webkit-border-radius:3px;\">#{c}</span> ", r, g, b %>
  <% end %>
<% end %>

<% def hsv_to_rgb(h, s, v) %>
  <% h_i = (h*6).to_i %>
  <% f = h*6 - h_i %>
  <% p = v * (1 - s) %>
  <% q = v * (1 - f*s) %>
  <% t = v * (1 - (1 - f) * s) %>
  <% r, g, b = v, t, p if h_i==0 %>
  <% r, g, b = q, v, p if h_i==1 %>
  <% r, g, b = p, v, t if h_i==2 %>
  <% r, g, b = p, q, v if h_i==3 %>
  <% r, g, b = t, p, v if h_i==4 %>
  <% r, g, b = v, p, q if h_i==5 %>
  <% [(r*256).to_i, (g*256).to_i, (b*256).to_i] %>
<% end %>

<% golden_ratio_conjugate = 0.618033988749895 %>
<% h = rand # use random start value %>
<%= gen_html {
  h += golden_ratio_conjugate
  h %= 1
  hsv_to_rgb(h, 0.5, 0.95)
 }  %>

-->

<h4 class="apart"><%= link_to 'New Product', new_product_path %></h4>


<!--

<script type="text/javascript">
  var colors = ['rgb(27, 161, 226)', 'rgb(240, 163, 10)', 'rgb(119, 158, 203)', 'rgb(0, 80, 239)', 'rgb(0, 192, 0)', 'rgb(119, 221, 119)', 'rgb(130, 111, 214)', 'rgb(100, 118, 135)', 'rgb(255, 105, 97)', 'rgb(162, 0, 37)'];
  var random_color = colors[Math.floor(Math.random() * colors.length)];
  document.getElementById('tile').style.background = random_color;
</script>

<ul>
    <li class="article1"><span>Article 1</span></li>
    <li class="article2"><span>Article 2</span></li>
    <li class="article3"><span>Article 3</span></li>
    <li class="article4"><span>Article 4</span></li>
    <li class="article5"><span>Article 5</span></li>
    <li class="article6"><span>Article 6</span></li>
    <li class="article7"><span>Article 7</span></li>
    <li class="article8"><span>Article 8</span></li>
    <li class="article9"><span>Article 9</span></li>
    <li class="article10"><span>Article 10</span></li>
</ul>
-->
